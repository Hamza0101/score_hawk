{% extends 'base.html' %}

{% block title %}Rankings - Elite Cricket Club{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-cricket-primary to-cricket-accent rounded-2xl p-8 mb-8 text-white">
        <div class="text-center">
            <h1 class="text-5xl font-bold mb-4">
                <i class="fas fa-trophy mr-3"></i>
                Cricket Rankings
            </h1>
            <p class="text-xl opacity-90 max-w-2xl mx-auto">
                Explore the latest ICC rankings for teams and players across all cricket formats.
            </p>
        </div>
    </div>
    
    <!-- Format Selection -->
    <div class="mb-8">
        <div class="bg-white rounded-xl shadow-lg p-6">
            <h3 class="text-xl font-bold text-slate-800 mb-4 flex items-center">
                <i class="fas fa-filter text-cricket-secondary mr-2"></i>
                Select Format
            </h3>
            <div class="flex flex-wrap gap-4">
                <button class="px-6 py-3 bg-gradient-to-r from-cricket-primary to-cricket-accent text-white rounded-lg hover:from-cricket-accent hover:to-cricket-primary transition-all duration-300 font-bold shadow-lg" data-format="test">
                    <i class="fas fa-clock mr-2"></i>
                    Test
                </button>
                <button class="px-6 py-3 bg-gray-200 text-slate-700 rounded-lg hover:bg-gradient-to-r hover:from-cricket-secondary hover:to-orange-500 hover:text-black transition-all duration-300 font-bold" data-format="odi">
                    <i class="fas fa-circle mr-2"></i>
                    ODI
                </button>
                <button class="px-6 py-3 bg-gray-200 text-slate-700 rounded-lg hover:bg-gradient-to-r hover:from-cricket-secondary hover:to-orange-500 hover:text-black transition-all duration-300 font-bold" data-format="t20">
                    <i class="fas fa-bolt mr-2"></i>
                    T20
                </button>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
        <div class="p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6">Team Rankings</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rank</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Team</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rating</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        {% for team in rankings %}
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ team.rank }}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ team.name }}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ team.rating }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="3" class="px-6 py-4 text-center text-gray-500">No rankings available</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Batsmen Rankings -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Top Batsmen</h2>
                <div class="space-y-4">
                    {% for batsman in batsmen_rankings|slice:":5" %}
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="text-lg font-medium text-gray-900">#{{ batsman.rank }}</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">{{ batsman.name }}</p>
                                <p class="text-xs text-gray-500">{{ batsman.country }}</p>
                            </div>
                        </div>
                        <span class="text-sm font-medium text-gray-900">{{ batsman.rating }}</span>
                    </div>
                    {% empty %}
                    <p class="text-gray-500 text-center">No batsmen rankings available</p>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Bowlers Rankings -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Top Bowlers</h2>
                <div class="space-y-4">
                    {% for bowler in bowlers_rankings|slice:":5" %}
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="text-lg font-medium text-gray-900">#{{ bowler.rank }}</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">{{ bowler.name }}</p>
                                <p class="text-xs text-gray-500">{{ bowler.country }}</p>
                            </div>
                        </div>
                        <span class="text-sm font-medium text-gray-900">{{ bowler.rating }}</span>
                    </div>
                    {% empty %}
                    <p class="text-gray-500 text-center">No bowlers rankings available</p>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- All-rounders Rankings -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Top All-rounders</h2>
                <div class="space-y-4">
                    {% for allrounder in allrounders_rankings|slice:":5" %}
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="text-lg font-medium text-gray-900">#{{ allrounder.rank }}</span>
                            <div>
                                <p class="text-sm font-medium text-gray-900">{{ allrounder.name }}</p>
                                <p class="text-xs text-gray-500">{{ allrounder.country }}</p>
                            </div>
                        </div>
                        <span class="text-sm font-medium text-gray-900">{{ allrounder.rating }}</span>
                    </div>
                    {% empty %}
                    <p class="text-gray-500 text-center">No all-rounders rankings available</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const formatButtons = document.querySelectorAll('[data-format]');
    const currentFormat = '{{ format_type }}';
    
    // Set active button based on current format
    formatButtons.forEach(button => {
        const format = button.getAttribute('data-format');
        if (format === currentFormat) {
            button.classList.remove('bg-gray-200', 'text-slate-700');
            button.classList.add('bg-gradient-to-r', 'from-cricket-primary', 'to-cricket-accent', 'text-white', 'shadow-lg');
        } else {
            button.classList.remove('bg-gradient-to-r', 'from-cricket-primary', 'to-cricket-accent', 'text-white', 'shadow-lg');
            button.classList.add('bg-gray-200', 'text-slate-700');
        }
    });
    
    // Add click handlers
    formatButtons.forEach(button => {
        button.addEventListener('click', function() {
            const format = this.getAttribute('data-format');
            const currentUrl = new URL(window.location);
            currentUrl.searchParams.set('format_type', format);
            window.location.href = currentUrl.toString();
        });
    });
});
</script>
{% endblock %}